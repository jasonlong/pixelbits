<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <title>Pixelbits by Jason Long</title>
    <link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700" rel="stylesheet">
    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/site.css">
    <script src="/lib/paper-full.min.js"></script>
  </head>
  <body>
    <div class="container">
      <h1 class="site-name"><a href="/">Pixelbits</a></h1>
      <p class="lead">Hi, I'm <a href="http://twitter.com/jasonlong">@jasonlong</a>. I'm trying to make a small creative coding sketch every day to learn new things.</p>
      <script type="text/paperscript" canvas="canvas-0001">
  var raster = new Raster('/0001/starry-night.jpg');

  // Hide the original image
  raster.visible = false;

  var gridSize = 13;

  // Space the cells by 120%:
  var spacing = 1.2;

  // As the web is asynchronous, we need to wait for the raster to load
  // before we can perform any operation on its pixels.
  raster.on('load', function() {
    // Resize image to a manageable size
    raster.size = new Size(50, 32);

    for (var y = 0; y < raster.height; y++) {
      for(var x = 0; x < raster.width; x++) {
        // Get the color of the pixel:
        var color = raster.getPixel(x, y);

        // Create a circle shaped path:
        var path = new Path.Circle({
          center: new Point(x, y) * gridSize,
          radius: gridSize / 2 / spacing
        });

        // Set the fill color of the path to the color
        // of the pixel:
        path.fillColor = color;
      }
    }

    // Move the active layer to the center of the view, so all
    // the created paths in it appear centered.
    project.activeLayer.position = view.center;
  });

  // Move the active layer to the center of the view:
  project.activeLayer.position = view.center;

</script>

<canvas id="canvas-0001"></canvas>

    </div>
  </body>
</html>

